<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Samsa</title>
  <link rel="icon" type="image/png" sizes="32x32" href="Logo.png">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    }

    .line-clamp-2 {
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .hidden {
      display: none !important;
    }

    .h-16 {
      width: auto;
      height: 100px;
    }

    /* Sidebar Styles */
    .sidebar {
      position: fixed;
      left: 0;
      top: 0;
      height: 100vh;
      width: 80px;
      background: rgba(15, 23, 42, 0.95);
      backdrop-filter: blur(20px);
      border-right: 1px solid rgba(71, 85, 105, 0.3);
      transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 1000;
      overflow: hidden;
    }

    .sidebar:hover {
      width: 280px;
    }

    .sidebar-content {
      padding: 24px 0;
      height: 100%;
      display: flex;
      flex-direction: column;
      position: relative;
    }

    .sidebar-logo {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 16px;
      padding: 0;
      white-space: nowrap;
      flex-direction: column;
      width: 64px;
      position: fixed;
      left: 8px;
      top: 24px;
      z-index: 1001;
    }

    .sidebar-logo-icon {
      min-width: 72px;
      height: 72px;
      width: 72px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .sidebar-logo-icon img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .sidebar-logo-text {
      font-size: 20px;
      font-weight: 700;
      color: white;
      display: none;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .sidebar:hover .sidebar-logo-text {
      display: none;
      opacity: 0;
    }

    .sidebar-nav {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 8px;
      padding: 0 16px;
      margin-top: 176px;
    }

    .sidebar-item {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 12px 16px;
      border-radius: 12px;
      color: #94a3b8;
      text-decoration: none;
      transition: color 0.2s;
      cursor: pointer;
      white-space: nowrap;
      position: relative;
      min-height: 48px;
      min-width: 48px;
    }

    .sidebar-item:hover {
      background: rgba(71, 85, 105, 0.2);
      color: white;
    }

    .sidebar-item.active {
      background: linear-gradient(135deg, rgba(234, 179, 8, 0.15) 0%, rgba(202, 138, 4, 0.15) 100%);
      color: #eab308;
    }

    .sidebar-item-icon {
      min-width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
    }

    .sidebar-item-text {
      font-size: 15px;
      font-weight: 500;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .sidebar:hover .sidebar-item-text {
      opacity: 1;
    }

    .sidebar-footer {
      padding: 0 16px;
      margin-top: auto;
    }

    .main-content {
      margin-left: 80px;
      transition: margin-left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    @media (max-width: 768px) {
      .sidebar {
        width: 0;
      }

      .sidebar:hover {
        width: 280px;
      }

      .main-content {
        margin-left: 0;
      }
    }
  </style>
</head>

<body class="bg-gradient-to-br from-slate-950 via-slate-900 to-indigo-950 min-h-screen">
  <!-- Sidebar -->
  <div class="sidebar">
    <div class="sidebar-content">
      <div class="sidebar-logo">
        <div class="sidebar-logo-icon">
          <img src="Logo.png" alt="Samsa Logo" />
        </div>
        <span class="sidebar-logo-text">Samsa</span>
      </div>

      <nav class="sidebar-nav">
        <a href="#" class="sidebar-item active" onclick="navigateTo('markets'); return false;">
          <div class="sidebar-item-icon">üè™</div>
          <span class="sidebar-item-text">Markets</span>
        </a>
        <a href="#" class="sidebar-item" onclick="navigateTo('portfolio'); return false;">
          <div class="sidebar-item-icon">üíº</div>
          <span class="sidebar-item-text">Portfolio</span>
        </a>
        <a href="#" class="sidebar-item" onclick="navigateTo('activity'); return false;">
          <div class="sidebar-item-icon">üìä</div>
          <span class="sidebar-item-text">Activity</span>
        </a>
        <a href="#" class="sidebar-item" onclick="navigateTo('leaderboard'); return false;">
          <div class="sidebar-item-icon">üèÜ</div>
          <span class="sidebar-item-text">Leaderboard</span>
        </a>
      </nav>

      <div class="sidebar-footer">
        <a href="#" class="sidebar-item" onclick="navigateTo('settings'); return false;">
          <div class="sidebar-item-icon">‚öôÔ∏è</div>
          <span class="sidebar-item-text">Settings</span>
        </a>
        <a href="#" class="sidebar-item" onclick="navigateTo('profile'); return false;">
          <div class="sidebar-item-icon">üë§</div>
          <span class="sidebar-item-text">Profile</span>
        </a>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Markets List View -->
    <div id="marketsView" class="max-w-7xl mx-auto p-6 lg:p-8">
      <!-- Header -->
      <div class="mb-12">
        <div class="flex items-center gap-3 mb-4">
          <div>
            <img src="Logo-Title.png" alt="Samsa Prediction Markets" class="h-16" />
          </div>
        </div>

        <!-- Stats -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-8">
          <div class="bg-slate-900/50 backdrop-blur-xl border border-slate-800 rounded-2xl p-6">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-slate-400 text-sm font-medium mb-1">Active Markets</p>
                <p class="text-3xl font-bold text-white">3</p>
              </div>
              <div class="w-12 h-12 bg-indigo-500/10 rounded-xl flex items-center justify-center text-2xl">üìä</div>
            </div>
          </div>
          <div class="bg-slate-900/50 backdrop-blur-xl border border-slate-800 rounded-2xl p-6">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-slate-400 text-sm font-medium mb-1">Total Volume</p>
                <p class="text-3xl font-bold text-white">$95,000</p>
              </div>
              <div class="w-12 h-12 bg-yellow-500/10 rounded-xl flex items-center justify-center text-2xl">üí∞</div>
            </div>
          </div>
          <div class="bg-slate-900/50 backdrop-blur-xl border border-slate-800 rounded-2xl p-6">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-slate-400 text-sm font-medium mb-1">24h Volume</p>
                <p class="text-3xl font-bold text-white">$12,450</p>
              </div>
              <div class="w-12 h-12 bg-orange-500/10 rounded-xl flex items-center justify-center text-2xl">‚è∞</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Search and Categories -->
      <div class="mb-8 space-y-4">
        <div class="relative">
          <input type="text" id="searchInput" placeholder="Search markets..."
            class="w-full pl-12 pr-4 py-3 bg-slate-900/50 border border-slate-800 text-white placeholder:text-slate-500 rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500/20" />
          <span class="absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400">üîç</span>
        </div>

        <!-- Categories Bar -->
        <div class="flex gap-2 flex-wrap bg-slate-900/50 border border-slate-800 p-2 rounded-lg">
          <button
            class="category-btn px-4 py-2 rounded-lg text-sm font-medium transition-all bg-gradient-to-r from-yellow-500 to-yellow-600 text-slate-950"
            data-category="all">All Markets</button>
          <button
            class="category-btn px-4 py-2 rounded-lg text-sm font-medium transition-all text-slate-300 hover:bg-slate-800"
            data-category="politics">Politics</button>
          <button
            class="category-btn px-4 py-2 rounded-lg text-sm font-medium transition-all text-slate-300 hover:bg-slate-800"
            data-category="sports">Sports</button>
          <button
            class="category-btn px-4 py-2 rounded-lg text-sm font-medium transition-all text-slate-300 hover:bg-slate-800"
            data-category="finance">Finance</button>
          <button
            class="category-btn px-4 py-2 rounded-lg text-sm font-medium transition-all text-slate-300 hover:bg-slate-800"
            data-category="technology">Technology</button>
          <button
            class="category-btn px-4 py-2 rounded-lg text-sm font-medium transition-all text-slate-300 hover:bg-slate-800"
            data-category="crypto">Crypto</button>
          <button
            class="category-btn px-4 py-2 rounded-lg text-sm font-medium transition-all text-slate-300 hover:bg-slate-800"
            data-category="entertainment">Entertainment</button>
        </div>
      </div>

      <!-- Markets Grid -->
      <div id="marketsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    </div>

    <!-- Market Detail View -->
    <div id="detailView" class="hidden max-w-7xl mx-auto p-6 lg:p-8">
      <button onclick="showMarkets()"
        class="mb-6 text-slate-300 hover:text-white hover:bg-slate-800/50 px-4 py-2 rounded-lg transition-colors inline-flex items-center gap-2">
        ‚Üê Back to Markets
      </button>

      <div id="detailContent"></div>
    </div>
  </div>

  <script>
    // Navigation function
    function navigateTo(page) {
      // Remove active class from all sidebar items
      document.querySelectorAll('.sidebar-item').forEach(item => {
        item.classList.remove('active');
      });

      // Add active class to clicked item
      event.target.closest('.sidebar-item').classList.add('active');

      // Handle navigation based on page
      if (page === 'markets') {
        showMarkets();
      } else {
        // For demo purposes, show an alert for other pages
        alert(`${page.charAt(0).toUpperCase() + page.slice(1)} page - Coming soon!`);
      }
    }

    const markets = [
      {
        id: 1,
        title: 'Will Bitcoin reach $100,000 by end of 2025?',
        description: 'Predict whether Bitcoin will hit the $100k milestone before December 31, 2025',
        category: 'crypto',
        image: 'https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800',
        closeDate: 'Dec 31, 2025',
        outcomes: [
          { id: 1, title: 'Yes', probability: 65, stake: 15000, color: 'green' },
          { id: 2, title: 'No', probability: 35, stake: 8000, color: 'red' }
        ],
        volume: 23000,
        volume24h: 3200,
        traders: 1247,
        news: [
          { title: 'Bitcoin ETF sees record inflows', source: 'CoinDesk', time: '2h ago' },
          { title: 'Institutional adoption accelerates', source: 'Bloomberg', time: '5h ago' },
          { title: 'Analysts predict bull run continuation', source: 'CryptoNews', time: '1d ago' }
        ]
      },
      {
        id: 2,
        title: 'Who will win the 2025 NBA Championship?',
        description: 'Predict the winner of the 2025 NBA Finals',
        category: 'sports',
        image: 'https://images.unsplash.com/photo-1546519638-68e109498ffc?w=800',
        closeDate: 'Jun 1, 2025',
        outcomes: [
          { id: 1, title: 'LA Lakers', probability: 30, stake: 12000, color: 'purple' },
          { id: 2, title: 'Boston Celtics', probability: 25, stake: 10000, color: 'green' },
          { id: 3, title: 'Golden State Warriors', probability: 20, stake: 8000, color: 'blue' },
          { id: 4, title: 'Other Team', probability: 25, stake: 10000, color: 'gray' }
        ],
        volume: 40000,
        volume24h: 5600,
        traders: 2134,
        news: [
          { title: 'Lakers strengthen roster with key trade', source: 'ESPN', time: '1h ago' },
          { title: 'Celtics maintain top seed in East', source: 'NBA.com', time: '4h ago' },
          { title: 'Warriors injury update affects odds', source: 'The Athletic', time: '8h ago' }
        ]
      },
      {
        id: 3,
        title: 'Will AI surpass human performance in coding by 2026?',
        description: 'Will AI models achieve superhuman performance on standard coding benchmarks?',
        category: 'technology',
        image: 'https://images.unsplash.com/photo-1677442136019-21780ecad995?w=800',
        closeDate: 'Jan 1, 2026',
        outcomes: [
          { id: 1, title: 'Yes', probability: 55, stake: 18000, color: 'green' },
          { id: 2, title: 'No', probability: 45, stake: 14000, color: 'red' }
        ],
        volume: 32000,
        volume24h: 4100,
        traders: 1876,
        news: [
          { title: 'New AI model shows 40% improvement', source: 'TechCrunch', time: '3h ago' },
          { title: 'Major tech companies invest in AI coding', source: 'Wired', time: '6h ago' },
          { title: 'Benchmark results exceed expectations', source: 'ArXiv', time: '12h ago' }
        ]
      }
    ];

    const categoryColors = {
      crypto: 'from-orange-500 to-red-600',
      sports: 'from-green-500 to-emerald-600',
      technology: 'from-purple-500 to-pink-600',
      politics: 'from-blue-500 to-indigo-600',
      finance: 'from-amber-500 to-orange-600',
      entertainment: 'from-pink-500 to-rose-600'
    };

    let currentCategory = 'all';

    function renderMarkets() {
      const grid = document.getElementById('marketsGrid');
      grid.innerHTML = markets.map(market => `
        <div class="market-card group relative overflow-hidden bg-slate-900/50 backdrop-blur-xl border border-slate-800 hover:border-yellow-500/50 transition-all duration-300 hover:shadow-2xl hover:shadow-yellow-500/10 cursor-pointer h-full rounded-2xl" data-category="${market.category}" onclick="showDetail(${market.id})">
          <div class="absolute inset-0 bg-gradient-to-br from-yellow-500/0 to-yellow-600/0 group-hover:from-yellow-500/5 group-hover:to-yellow-600/5 transition-all duration-300"></div>
          
          <div class="relative p-6">
            <div class="flex items-start justify-between mb-4">
              <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-gradient-to-r ${categoryColors[market.category]} text-white">
                ${market.category}
              </span>
              <span class="text-xs text-green-400 font-medium">üü¢ Live</span>
            </div>

            <div class="mb-4 rounded-xl overflow-hidden">
              <img src="${market.image}" alt="${market.title}" class="w-full h-40 object-cover group-hover:scale-105 transition-transform duration-300" />
            </div>

            <h3 class="text-lg font-bold text-white mb-2 line-clamp-2 group-hover:text-yellow-400 transition-colors duration-200">
              ${market.title}
            </h3>

            <p class="text-sm text-slate-400 mb-4 line-clamp-2">${market.description}</p>

            <div class="bg-slate-800/50 rounded-xl p-4 mb-4">
              <div class="flex items-center justify-between mb-2">
                <span class="text-xs text-slate-400 font-medium">Leading prediction</span>
                <span class="text-indigo-400">üìà</span>
              </div>
              <p class="text-white font-semibold mb-1">${market.outcomes[0].title}</p>
              <div class="flex items-center gap-2">
                <div class="flex-1 bg-slate-700 rounded-full h-2 overflow-hidden">
                  <div class="bg-gradient-to-r from-yellow-500 to-yellow-600 h-full rounded-full transition-all duration-300" style="width: ${market.outcomes[0].probability}%"></div>
                </div>
                <span class="text-yellow-400 font-bold text-sm">${market.outcomes[0].probability}%</span>
              </div>
            </div>

            <div class="space-y-2 pt-4 border-t border-slate-800">
              <div class="flex items-center justify-between text-sm">
                <span class="text-slate-400">Total Volume</span>
                <span class="text-white font-medium">$${market.volume.toLocaleString()}</span>
              </div>
              <div class="flex items-center justify-between text-sm">
                <span class="text-slate-400">24h Volume</span>
                <span class="text-green-400 font-medium">+$${market.volume24h.toLocaleString()}</span>
              </div>
              <div class="flex items-center justify-between text-sm">
                <span class="text-slate-400">Traders</span>
                <span class="text-white font-medium">${market.traders.toLocaleString()}</span>
              </div>
              <div class="flex items-center justify-between text-sm">
                <span class="text-slate-400">Closes</span>
                <span class="text-slate-300">${market.closeDate}</span>
              </div>
            </div>
          </div>
        </div>
      `).join('');
    }

    function showDetail(marketId) {
      const market = markets.find(m => m.id === marketId);
      document.getElementById('marketsView').classList.add('hidden');
      document.getElementById('detailView').classList.remove('hidden');

      document.getElementById('detailContent').innerHTML = `
        <!-- Market Header -->
        <div class="bg-slate-900/50 backdrop-blur-xl border border-slate-800 rounded-3xl p-8 mb-8">
          ${market.image ? `
            <div class="mb-6 rounded-2xl overflow-hidden">
              <img src="${market.image}" alt="${market.title}" class="w-full h-64 object-cover" />
            </div>
          ` : ''}
          
          <div class="flex items-start justify-between mb-4">
            <div class="flex-1">
              <div class="flex items-center gap-3 mb-3">
                <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-gradient-to-r ${categoryColors[market.category]} text-white">
                  ${market.category}
                </span>
                <span class="text-xs text-green-400 font-medium flex items-center gap-1">
                  <span class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></span>
                  Live Trading
                </span>
              </div>
              <h1 class="text-4xl font-bold text-white mb-4">${market.title}</h1>
              <p class="text-lg text-slate-300">${market.description}</p>
            </div>
          </div>

          <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-6">
            <div class="bg-slate-800/50 rounded-xl p-4">
              <p class="text-slate-400 text-sm mb-1">Total Volume</p>
              <p class="text-2xl font-bold text-white">$${market.volume.toLocaleString()}</p>
            </div>
            <div class="bg-slate-800/50 rounded-xl p-4">
              <p class="text-slate-400 text-sm mb-1">24h Volume</p>
              <p class="text-2xl font-bold text-green-400">$${market.volume24h.toLocaleString()}</p>
            </div>
            <div class="bg-slate-800/50 rounded-xl p-4">
              <p class="text-slate-400 text-sm mb-1">Traders</p>
              <p class="text-2xl font-bold text-white">${market.traders.toLocaleString()}</p>
            </div>
            <div class="bg-slate-800/50 rounded-xl p-4">
              <p class="text-slate-400 text-sm mb-1">Closes</p>
              <p class="text-xl font-bold text-white">${market.closeDate}</p>
            </div>
          </div>
        </div>

        <div class="grid lg:grid-cols-3 gap-8">
          <!-- Left Column: Outcomes & Prediction -->
          <div class="lg:col-span-2 space-y-8">
            <!-- Live Odds -->
            <div class="bg-slate-900/50 backdrop-blur-xl border border-slate-800 rounded-2xl p-6">
              <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-2">
                <span>üìä</span> Live Odds & Prediction
              </h2>
              <div class="space-y-4">
                ${market.outcomes.map((outcome, idx) => `
                  <div class="bg-slate-800/50 rounded-2xl p-5 border border-slate-700 hover:border-yellow-500/50 transition-all duration-200">
                    <div class="flex items-start justify-between mb-3">
                      <div class="flex-1">
                        <h3 class="text-lg font-semibold text-white mb-2">${outcome.title}</h3>
                        <div class="flex items-center gap-3">
                          <span class="text-3xl font-bold text-yellow-400">${outcome.probability}%</span>
                          <span class="text-sm text-slate-400">$${outcome.stake.toLocaleString()} staked</span>
                        </div>
                      </div>
                      <button onclick="openPredictionForm(${market.id}, ${outcome.id})" class="bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-slate-950 font-semibold px-4 py-2 rounded-lg transition-all">
                        Predict
                      </button>
                    </div>
                    <div class="relative h-2 bg-slate-700 rounded-full overflow-hidden">
                      <div class="absolute top-0 left-0 h-full bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-full transition-all duration-500" style="width: ${outcome.probability}%"></div>
                    </div>
                  </div>
                `).join('')}
              </div>
            </div>

            <!-- Market Analytics -->
            <div class="bg-slate-900/50 backdrop-blur-xl border border-slate-800 rounded-2xl p-6">
              <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-2">
                <span>üìà</span> Market Analytics
              </h2>
              <div class="space-y-4">
                <div class="bg-slate-800/50 rounded-xl p-4">
                  <div class="flex justify-between items-center mb-2">
                    <span class="text-slate-400">Volume Trend (24h)</span>
                    <span class="text-green-400 font-semibold">+${((market.volume24h / market.volume) * 100).toFixed(1)}%</span>
                  </div>
                  <div class="h-2 bg-slate-700 rounded-full overflow-hidden">
                    <div class="h-full bg-gradient-to-r from-green-500 to-emerald-500 rounded-full" style="width: ${(market.volume24h / market.volume) * 100}%"></div>
                  </div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                  <div class="bg-slate-800/50 rounded-xl p-4">
                    <p class="text-slate-400 text-sm mb-1">Avg Stake</p>
                    <p class="text-xl font-bold text-white">$${(market.volume / market.traders).toFixed(0)}</p>
                  </div>
                  <div class="bg-slate-800/50 rounded-xl p-4">
                    <p class="text-slate-400 text-sm mb-1">Market Depth</p>
                    <p class="text-xl font-bold text-white">High</p>
                  </div>
                </div>
                <div class="bg-slate-800/50 rounded-xl p-4">
                  <p class="text-slate-400 text-sm mb-2">Probability Distribution</p>
                  <div class="flex gap-1 h-20">
                    ${market.outcomes.map(o => `
                      <div class="flex-1 bg-gradient-to-t ${o.color === 'green' ? 'from-green-500 to-green-600' : o.color === 'red' ? 'from-red-500 to-red-600' : 'from-blue-500 to-blue-600'} rounded-t" style="height: ${o.probability}%"></div>
                    `).join('')}
                  </div>
                  <div class="flex justify-between mt-2">
                    ${market.outcomes.map(o => `
                      <span class="text-xs text-slate-400">${o.title}</span>
                    `).join('')}
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Right Column: News & Intelligence -->
          <div class="space-y-8">
            <!-- News Feed -->
            <div class="bg-slate-900/50 backdrop-blur-xl border border-slate-800 rounded-2xl p-6">
              <h2 class="text-xl font-bold text-white mb-6 flex items-center gap-2">
                <span>üì∞</span> News & Intelligence
              </h2>
              <div class="space-y-4">
                ${market.news.map(item => `
                  <div class="bg-slate-800/50 rounded-xl p-4 hover:bg-slate-800/70 transition-colors cursor-pointer">
                    <h3 class="text-white font-semibold mb-2 text-sm">${item.title}</h3>
                    <div class="flex items-center justify-between text-xs">
                      <span class="text-slate-400">${item.source}</span>
                      <span class="text-slate-500">${item.time}</span>
                    </div>
                  </div>
                `).join('')}
              </div>
            </div>

            <!-- Market Sentiment -->
            <div class="bg-slate-900/50 backdrop-blur-xl border border-slate-800 rounded-2xl p-6">
              <h2 class="text-xl font-bold text-white mb-6 flex items-center gap-2">
                <span>üí≠</span> Market Sentiment
              </h2>
              <div class="space-y-4">
                <div class="bg-slate-800/50 rounded-xl p-4">
                  <div class="flex justify-between items-center mb-2">
                    <span class="text-slate-400">Bullish</span>
                    <span class="text-green-400 font-semibold">${market.outcomes[0].probability}%</span>
                  </div>
                  <div class="h-2 bg-slate-700 rounded-full overflow-hidden">
                    <div class="h-full bg-gradient-to-r from-green-500 to-emerald-500 rounded-full" style="width: ${market.outcomes[0].probability}%"></div>
                  </div>
                </div>
                <div class="bg-slate-800/50 rounded-xl p-4">
                  <p class="text-slate-400 text-sm mb-2">Confidence Level</p>
                  <p class="text-2xl font-bold text-white">High</p>
                  <p class="text-xs text-slate-500 mt-1">Based on ${market.traders} traders</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function showMarkets() {
      document.getElementById('detailView').classList.add('hidden');
      document.getElementById('marketsView').classList.remove('hidden');
    }

    function openPredictionForm(marketId, outcomeId) {
      const market = markets.find(m => m.id === marketId);
      const outcome = market.outcomes.find(o => o.id === outcomeId);

      const modal = document.createElement('div');
      modal.className = 'fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4';
      modal.innerHTML = `
        <div class="bg-slate-900 border border-slate-800 rounded-2xl p-6 max-w-md w-full">
          <div class="flex justify-between items-center mb-6">
            <h3 class="text-xl font-bold text-white">Place Prediction</h3>
            <button onclick="this.closest('.fixed').remove()" class="text-slate-400 hover:text-white">‚úï</button>
          </div>
          
          <div class="bg-slate-800/50 rounded-xl p-4 mb-6">
            <p class="text-slate-400 text-sm mb-1">Predicting on</p>
            <p class="text-white font-semibold">${outcome.title}</p>
            <p class="text-yellow-400 text-2xl font-bold mt-2">${outcome.probability}% odds</p>
          </div>

          <div class="space-y-4">
            <div>
              <label class="text-white font-medium mb-2 block">Stake Amount ($)</label>
              <input type="number" id="stakeAmount" min="1" placeholder="Enter amount" class="w-full bg-slate-800 border border-slate-700 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500/20" />
            </div>

            <div class="bg-slate-800/50 rounded-xl p-4">
              <div class="flex justify-between mb-2">
                <span class="text-slate-400">Potential Return</span>
                <span class="text-green-400 font-bold" id="potentialReturn">$0.00</span>
              </div>
              <div class="flex justify-between">
                <span class="text-slate-400">Potential Profit</span>
                <span class="text-green-400 font-semibold" id="potentialProfit">$0.00</span>
              </div>
            </div>

            <button onclick="submitPrediction()" class="w-full bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-slate-950 font-bold py-3 rounded-lg transition-all">
              Confirm Prediction
            </button>
          </div>
        </div>
      `;
      document.body.appendChild(modal);

      document.getElementById('stakeAmount').addEventListener('input', function (e) {
        const stake = parseFloat(e.target.value) || 0;
        const multiplier = 100 / outcome.probability;
        const potentialReturn = stake * multiplier;
        const profit = potentialReturn - stake;

        document.getElementById('potentialReturn').textContent = '$' + potentialReturn.toFixed(2);
        document.getElementById('potentialProfit').textContent = '$' + profit.toFixed(2);
      });
    }

    function submitPrediction() {
      alert('Prediction submitted successfully! (Demo mode)');
      document.querySelector('.fixed').remove();
    }

    function filterMarkets() {
      const searchTerm = document.getElementById('searchInput').value.toLowerCase();
      const cards = document.querySelectorAll('.market-card');

      cards.forEach(card => {
        const category = card.dataset.category;
        const text = card.textContent.toLowerCase();

        const matchesSearch = text.includes(searchTerm);
        const matchesCategory = currentCategory === 'all' || category === currentCategory;

        card.style.display = (matchesSearch && matchesCategory) ? 'block' : 'none';
      });
    }

    // Event listeners
    document.getElementById('searchInput').addEventListener('input', filterMarkets);

    document.querySelectorAll('.category-btn').forEach(btn => {
      btn.addEventListener('click', function () {
        document.querySelectorAll('.category-btn').forEach(b => {
          b.className = 'category-btn px-4 py-2 rounded-lg text-sm font-medium transition-all text-slate-300 hover:bg-slate-800';
        });
        this.className = 'category-btn px-4 py-2 rounded-lg text-sm font-medium transition-all bg-gradient-to-r from-yellow-500 to-yellow-600 text-slate-950';

        currentCategory = this.dataset.category;
        filterMarkets();
      });
    });

    // Initialize
    renderMarkets();
    console.log('Samsa Prediction Markets loaded successfully!');
  </script>
</body>

</html>